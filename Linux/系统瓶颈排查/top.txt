https://blog.csdn.net/weixin_40734030/article/details/125558689

top命令经常用来监控Linux的系统状况，比如cpu、内存。
top输出解释：
	第一行load average：
		load average后面的三个数分别是1分钟、5分钟、15分钟的负载情况。
		附1:
		https://www.cnblogs.com/kevingrace/p/6668149.html
		0）load average：
			负载情况具体是指在一段时间内CPU正在处理以及等待CPU处理的进程数之和的统计信息，
			也就是CPU使用队列的长度的统计信息，这个数字越小越好。
		注：- 如何评估性能需求中合理的Load Average：
			这里需要注意的是load average这个输出值，这3个值的大小一般不能大于系统CPU的内核数.
			例1：
				本输出中系统有8个CPU，如果load average的3个值长期大于8，说明CPU很繁忙，负载很高，可能会影响系统性能，但是偶尔大于8时不用担心，一般不会影响系统性能。
			例2：
				以一个单核的机器为例，
				load=0.5表示CPU还有一半的资源可以处理其他的线程请求，
				load=1表示CPU所有的资源都在处理请求，没有剩余的资源可以利用了，
				而load=2则表示CPU已经超负荷运作，另外还有一倍的线程正在等待处理。
		
		附2：
		2）CPU负载：显示的是一段时间内正在使用和等待使用CPU的平均任务数。
		1）CPU使用率：显示的是程序在运行期间实时占用的CPU百分比。?
		3）CPU使用率高，并不意味着负载就一定大。
			举例来说：如果我有一个程序它需要一直使用CPU的运算功能，那么此时CPU的使用率可能达到100%，但是CPU的工作负载则是趋近于"1"，因为CPU仅负责一个工作啊。
			如果同时执行这样的程序两个呢？CPU的使用率还是100%，但是工作负载则变成2了。
			*所以也就是说，当CPU的工作负载越大，代表CPU必须要在不同的工作之间进行频繁的工作切换。
			
		
		cpu负载高代表：
			2）系统Load高不一定是CPU能力问题或数量不够。
				因为Load高只是代表需要运行的队列累计过多了。但队列中的任务实际可能是耗Cpu的，也可能是耗i/0、内存不足或者其他因素的。

			1）系统load高不一定是性能有问题。?
				因为Load高也许是因为在进行cpu密集型的计算

	第二行：
		例：
		Tasks: 265 total,   2 running, 263 sleeping,   0 stopped,   0 zombie
		Tasks：任务，也就是进程
		265 total：当前总共有265个任务，也就是265个进程
		2 running：2个进程正在运行
		263 sleeping：263个进程正在休眠
		0 stopped：0个停止的进程
		0 zombie：1个僵尸进程
		
	第三行%Cpu(s):
		us（user cpu time）：
			用户态使用的cpu时间比。
			该值较高时，说明用户进程消耗的 CPU 时间比较多，比如如果该值长期超过 50%，则需要对程序算法或代码等进行优化。
		sy（system cpu time）：
			系统态使用的cpu时间比。
		ni（user nice cpu time）：
			用做nice加权的进程分配的用户态cpu时间比
		id（idle cpu time）：
			空闲的cpu时间比。
			如果该值持续为0，同时sy是us的两倍，则通常说明系统则面临着 CPU 资源的短缺。？
		wa（wait）：
			等待输入输出的CPU时间百分比。
		hi（hardware irq）：
			硬中断消耗时间
		si（software irq）：
			软中断消耗时间
		st（steal time）：
			虚拟机偷取时间
		以上解释的这些参数的值加起来是100%
	第四、五行 内存:
		例：内存
			MiB Mem :  15508.4 total,   3858.4 free,   3369.3 used,   828.07 buff/cache
			MiB：单位
			15508.4 total：物理内存总量
			3858.4 free：空闲内存量
			3369.3 used：已使用的内存量
			828.07 buff/cache：用作内核缓存和缓冲的内存量
		例：交换空间
			交换空间即虚拟内存，当内存不足的时候，把一部分硬盘空间虚拟成内存使用
			MiB Swap:   4096.0 total,   3855.1 free,    240.9 used.  10823.7 avail Mem
			4096.0 total：交换区总量
			3855.1 free：空闲交换区总量
			240.9 used：使用的交换区总量
			10823.7 avail Mem：可用于启动一个新应用的内存（物理内存），和free不同，它计算的是可回收的page cache和memory slab
				available  = free + 回收cache(+可利用buffer？)
		第四行和第五行输出信息，等同于使用free -m命令。

	第7行后 各进程（任务）的状态监控:
		
		附：
		TOP命令 cpu(s) 与%CPU的区别：
			CPU(s)是系统所有用户进程占用整个CPU的平均值，由于每个核心占用的百分比不同，所以按平均值来算比较有参考意义。
			%CPU显示的是进程占用一个核的百分比，而不是整个cpu（8核）的百分比，有时候可能大于100，那是因为该进程启用了多线程占用了多个核心，所以有时候我们看该值得时候会超过100%，但不会超过总核数*100。
		内存了？？？
4.top交互命令
	top命令在执行过程中可以使用一些交互功能：
	M键	按下M键，根据驻留内存大小（RES）排序？